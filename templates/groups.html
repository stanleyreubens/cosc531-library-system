{% extends "base.html" %}
{% block content %}
<h2>Student Groups</h2>

{% for group, students in groups.items() %}
<div class="card mb-3">
    <div class="card-header">
        <h3>Group {{ group }}</h3>
    </div>
    <div class="card-body">
        <ul class="list-group">
            {% for student in students %}
            <li class="list-group-item">
                {{ student.first_name }}
                <small class="text-muted">
                    Preferred Books:
                    {% for pref in student.preferred_books %}
                    {{ pref.book_title }}{% if not loop.last %}, {% endif %}
                    {% endfor %}
                </small>
            </li>
            {% endfor %}
        </ul>
    </div>
</div>
{% endfor %}
{% endblock %}